# Abstract Factory

### üí° Comprendre les Abstract Factory

## üìù Tes notes

Detaille ce que tu as appris ici
`src/exercise/03.md`ou¬†sur¬†une¬†page¬†[Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

`Abstract Factory` ajoute un niveau d‚Äôabstraction suppl√©mentaire par rapport a
la `Factory.` Cela permet de g√©rer le cas ou il y a plusieurs `factory.`

```tsx
interface AbstractFactory {
  createProductA(): AbstractProductA

  createProductB(): AbstractProductB
}

class ConcreteFactory1 implements AbstractFactory {
  public createProductA(): AbstractProductA {
    return new ConcreteProductA1()
  }

  public createProductB(): AbstractProductB {
    return new ConcreteProductB1()
  }
}
class ConcreteFactory2 implements AbstractFactory {
  public createProductA(): AbstractProductA {
    return new ConcreteProductA2()
  }

  public createProductB(): AbstractProductB {
    return new ConcreteProductB2()
  }
}

function clientCode(factory: AbstractFactory) {
  const productA = factory.createProductA()
  const productB = factory.createProductB()
}
clientCode(new ConcreteFactory1())
clientCode(new ConcreteFactory2())
```

## Exercice

Dans cet exercice nous allons reprendre l‚Äôexemple pr√©c√©dents `EmployeeFactory`

```tsx
class EmployeeFactory {
  getEmployee(type: EmployeeType): Employee {
    switch (type) {
      case EmployeeType.DEV:
        return new Developper('java')
      case EmployeeType.PROJECT:
        return new ProjectManager('finance')
      case EmployeeType.CLEANNER:
        return new Cleanner()
      case EmployeeType.COOKER:
        return new Cooker()
    }
  }
}
```

- Imaginons que nous ayons aussi une factory pour les Freelances :
  `FreelanceFactory`

```tsx
class FreelanceFactory {
  getFreelance(type: FreelanceType): Freelance {
    switch (type) {
      case FreelanceType.DEV:
        return new DevFreelance()
      case FreelanceType.DESIGNER:
        return new DesignerFreelance()
      case FreelanceType.PROJECT:
        return new ProjectFreelance()
    }
  }
}
```

`üë®‚Äç‚úàÔ∏è` Hugo le Chef de projet nous demande de cr√©er des un niveau d‚Äôabstraction de
factory suppl√©mentaire pour g√©rer des Team mixte (Employ√© ou Freelance) mais
regroup√© par type de profils (DEV, Chef de projet etc ‚Ä¶) Nous allons donc cr√©√©
la factory abstraite suivante

```tsx
interface AbstractFactory {
  createEmployee(): Employee
  createFreelance(): Freelance
  factoryName: string
}
```

Cr√©√© ensuite 2 factory concr√®tes :

- `ConcreteFactoryDev` (que des profils dev en utilisant `EmployeeFactory` et
  `EmployeeFactory` )
- `ConcreteFactoryProject` (que des profils chef projet en utilisant
  `EmployeeFactory` et `EmployeeFactory` )

De telle maniere que l‚Äôon puisse utiliser le code comme ceci

```tsx
function clientCode(factory: AbstractFactory) {
  const employee = factory.createEmployee()
  const freelance = factory.createFreelance()

  displayText(`${factory.factoryName} : salari√© rate : ${employee.salaryRate}`)
  displayText(`${factory.factoryName} : freelance tjm : ${freelance.tjm}`)
}
clientCode(new ConcreteFactoryDev())
clientCode(new ConcreteFactoryProject())
```

## Bonus

### 1. üöÄ Ajout de nouvelle factory

Hugo nous demande pouvoir cr√©er des Team 'tech‚Äô qui est un mixte de

- dev employ√©
- designer freelance

Cr√©√© la `factory` : `ConcreteFactoryTech`

###

## Aller plus loin

üìë Le lien vers la doc
[https://www.w3schools.com/html/html_css.asp](https://www.w3schools.com/html/html_css.asp)

## üêú Feedback

Remplir le formulaire le [formulaire de FeedBack.](https://go.mikecodeur.com/cours-react-avis?entry.1912869708=TypeScript%20PRO&entry.1430994900=5.Les%20Patterns&entry.533578441=03%20Abstract%20Factory)
